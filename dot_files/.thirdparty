# @file .thirdparty
# @brief 3rd party packages for my bash configuration
# @author Alister Lewis-Bowen <alister@different.com>
# @see .bashrc

PACKAGE_DIR=~/.thirdpartypackages

function get_package {
    case "$1" in
        googlecode)
            [ ! -d $PACKAGE_DIR/$2 ] &&
                svn co http://${2}.googlecode.com/svn/trunk/ $PACKAGE_DIR/$2
            ;;
        github)
            local package=$(basename $2)
            [ ! -d $PACKAGE_DIR/$package ] &&
                git clone git://github.com/${2}.git $PACKAGE_DIR/$package
            ;;
    esac
}

for file in {autoload,bitmaps,colors,doc,syntax,ftdetect,ftplugin}; do
    [ ! -d ~/.vim/$file ] && mkdir -p ~/.vim/$file
done

#
# bash script color and formating
#

get_package googlecode ansi-color
ln -sf $PACKAGE_DIR/ansi-color/ansi-color/color ~/bin/color

#
# solarized theme for vim and cmd line
#

for file in {autoload/togglebg.vim,bitmaps/togglebg.png,colors/solarized.vim,doc/solarized.txt,doc/tags}; do
    ln -sf $PACKAGE_DIR/solarized/vim-colors-solarized/$file ~/.vim/$file
done
ln -sf $PACKAGE_DIR/solarized/xresources-colors-solarized/Xresources ~/.Xdefaults
ln -sf $PACKAGE_DIR/solarized/xresources-colors-solarized/Xresources ~/.Xresources

#
# NERDTree for vim
#
for file in {doc/NERD_tree.txt,plugin/NERD_tree.vim,syntax/nerdtree.vim}; do
    ln -sf $PACKAGE_DIR/nerdtree/$file ~/.vim/$file
done
ln -sf $PACKAGE_DIR/nerdtree/nerdtree_plugin ~/.vim/nerdtree_plugin

#
# actionscript for vim
#

ln -sf $PACKAGE_DIR/actionscript.vim/syntax/actionscript.vim ~/.vim/syntax/actionscript.vim

#
# jshint for vim
#
# ‚óè Assumes https://github.com/jshint/jshint is installed
#

for file in {plugin/jshint.vim,doc/jshint.txt}; do
    ln -sf $PACKAGE_DIR/jshint.vim/$file ~/.vim/$file
done

#
# markdown for vim
#

for file in {ftdetect/markdown.vim,ftplugin/markdown.vim,syntax/markdown.vim}; do
    ln -sf $PACKAGE_DIR/vim-markdown/$file ~/.vim/$file
done

unset file
unset PACKAGE_DIR
